<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">

<!--
  
   $XFree86: xc/doc/man/Xi/XGrDvKey.man,v 1.5 2006/01/09 14:56:19 dawes Exp $
   
   
   Copyright ([\d,\s]*) by Hewlett-Packard Company, Ardent Computer, 
   
   Permission to use, copy, modify, distribute, and sell this documentation 
   for any purpose and without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
   Ardent, and Hewlett-Packard make no representations about the 
   suitability for any purpose of the information in this document.  It is 
   provided \`\`as is'' without express or implied warranty.
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+XFree86, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XGrabDeviceKey(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XGrabDeviceKey, XUngrabDeviceKey - grab/ungrab extension
input device Keys 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>
<p>

<dl>

<dt>int XGrabDeviceKey(Display *<i>display</i>, XDevice *<i>device</i>,
</dt>
<dd>unsigned int <i>Key</i>, unsigned int <i>modifiers</i>, XDevice *<i>modifier_device</i>, Window
<i>grab_window</i>, Bool <i>owner_events</i>, unsigned int <i>event_count</i>, XEventClass <i>event_list</i>,
int <i>this_device_mode</i>, int <i>other_devices_mode</i>);  </dd>

<dt>int XUngrabDeviceKey(Display
*<i>display</i>, XDevice *<i>device</i>, </dt>
<dd>unsigned int <i>Key</i>, unsigned int <i>modifiers</i>, XDevice
*<i>modifier_device</i>, Window <i>grab_window</i>);  </dd>
</dl>

<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i> </dt>
<dd>Specifies the
connection to the X server. </dd>

<dt><i>device</i> </dt>
<dd>Specifies the device that is to be grabbed
or released </dd>

<dt><i>Key</i> </dt>
<dd>Specifies the device Key that is to be grabbed or released
or <i>AnyKey</i>. </dd>

<dt><i>modifiers</i> </dt>
<dd>Specifies the set of keymasks or <i>AnyModifier</i>. The mask
is the bitwise inclusive OR of the valid keymask bits. Valid bits are: ShiftMask,
LockMask, ControlMask, Mod1Mask, Mod2Mask, Mod3Mask, Mod4Mask, Mod5Mask.
</dd>

<dt><i>modifier_device</i> </dt>
<dd>Specifies the device whose modifiers are to be used.  If
a modifier_device of NULL is specified, the X keyboard will be used as
the modifier_device. </dd>

<dt><i>grab_window</i> </dt>
<dd>Specifies the grab window. </dd>

<dt><i>owner_events</i>
</dt>
<dd>Specifies a Boolean value that indicates whether the device  events are
to be reported as usual or reported with respect to the grab window  if
selected by the event list. </dd>

<dt><i>event_count</i> </dt>
<dd>Specifies the number of event classes
in the event list. </dd>

<dt><i>event_list</i> </dt>
<dd>Specifies which device events are reported
to the client. </dd>

<dt><i>this_device_mode</i> </dt>
<dd>Specifies further processing of events from
this device. You can pass <i>GrabModeSync</i> or <i>GrabModeAsync</i>. </dd>

<dt><i>other_devices_mode</i>
</dt>
<dd>Specifies further processing of events from other devices. You can pass
 <i>GrabModeSync</i>  or <i>GrabModeAsync</i>. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The <i>XGrabDeviceKey</i> request establishes
a passive grab. In the future, the device is actively grabbed (as for <i>XGrabDevice</i>,
the last-device-grab time is set to the time at which the Key was pressed
(as transmitted in the <i>DeviceKeyPress</i> event), and the <i>DeviceKeyPress</i> event
is reported if all of the following conditions are true: </dl>
<p>
The device is
not grabbed, and the specified key is logically pressed when the specified
modifier keys are logically down, and no other keys or modifier keys are
logically down. </dl>
<p>
The grab_window is an ancestor (or is) the focus window
OR the grab window is a descendant of the focus window and contains the
device. </dl>
<p>
The confine_to window (if any) is viewable. </dl>
<p>
A passive grab on the
same key/modifier combination does not exist on any ancestor of grab_window.
<p>
The interpretation of the remaining arguments is as for <i>XGrabDevice</i> . The
active grab is terminated automatically when the logical state of the device
has the specified key released. <p>
Note that the logical state of a device
(as seen by means of the X protocol ) may lag the physical state if device
event processing is frozen. <p>
If the key is not <i>AnyKey</i>, it must be in the
range specified by min_keycode and max_keycode as returned by the <i>XListInputDevices</i>
request.  Otherwise, a <i>BadValue</i> error results. <p>
This request overrides all
previous grabs by the same client on the same Key/modifier combinations
on the same window. A modifier of  <i>AnyModifier</i>  is equivalent to issuing
the grab request for all possible modifier combinations (including the
combination of no modifiers).   It is not required that all modifiers specified
have currently assigned  KeyCodes. A key of  <i>AnyKey</i>  is equivalent to issuing
the request for all possible keys. Otherwise, it is not required that the
specified key currently be assigned to a physical Key. <p>
If a modifier_device
of NULL is specified, the X keyboard will be used as the modifier_device.
<p>
If some other client has already issued a  <i>XGrabDeviceKey</i> with the same
Key/modifier combination on the same window, a <i>BadAccess</i>  error results.
When using  <i>AnyModifier</i>  or  <i>AnyKey</i> ,  the request fails completely, and
a <i>BadAccess</i> error results (no grabs are established) if there is a conflicting
grab for any combination. <i>XGrabDeviceKey</i> has no effect on an active grab.
<p>
<i>XGrabDeviceKey</i> can generate <i>BadAccess</i>, <i>BadClass</i>, <i>BadDevice</i>, <i>BadMatch</i>, <i>BadValue</i>,
and <i>BadWindow</i>  errors.  It returns <i>Success</i> on successful completion of the
request. <p>
The <i>XUngrabDeviceKey</i> request releases the passive grab for a key/modifier
combination on the  specified window if it was grabbed by this client. A
modifier of <i>AnyModifier</i> is equivalent to issuing  the ungrab request for
all possible modifier combinations, including  the combination of no modifiers.
A Key of <i>AnyKey</i>  is equivalent to issuing the request for all possible
Keys. <i>XUngrabDeviceKey</i> has no effect on an active grab. <p>
If a modifier_device
of NULL is specified, the X keyboard will be used as the modifier_device.
<p>
<i>XUngrabDeviceKey</i> can generate <i>BadDevice</i>, <i>BadMatch</i>, <i>BadValue</i> and <i>BadWindow</i>
errors. 
<h2><a name='sect4' href='#toc4'>Diagnostics</a></h2>

<dl>

<dt><i>BadDevice</i> </dt>
<dd>An invalid device was specified.  The specified
device does not exist or has  not been opened by this client via <i>XOpenInputDevice</i>.
 This error may also occur if the specified device is the X keyboard or
X pointer device. </dd>

<dt><i>BadMatch</i> </dt>
<dd>This error may occur if an <i>XGrabDeviceKey</i> request
was made specifying a device that has no keys, or a modifier device that
has no keys. </dd>

<dt><i>BadValue</i> </dt>
<dd>Some numeric value falls outside the range of values
accepted by the request. Unless a specific range is specified for an argument,
the full range defined by the argument's type is accepted.  Any argument
defined as a set of alternatives can generate this error. </dd>

<dt><i>BadWindow</i> </dt>
<dd>A value
for a Window argument does not name a defined Window. </dd>
</dl>

<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='XAllowDeviceEvents.3.html'>XAllowDeviceEvents(3X)</a>
,
<br>
<a href='XGrabDevice.3.html'>XGrabDevice(3X)</a>
, <br>
<a href='XGrabDeviceButton.3.html'>XGrabDeviceButton(3X)</a>
, <br>
<br>
<i>Programming with Xlib</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>Diagnostics</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
</ul>
</body>
</html>
<!-- text below generated by server. PLEASE REMOVE --><!-- Counter/Statistics data collection code --><script language="JavaScript" src="http://l.yimg.com/d/lib/smb/js/hosting/cp/js_source/whv2_001.js"></script><script language="javascript">geovisit();</script><noscript><img src="http://visit.webhosting.yahoo.com/visit.gif?us1481728994" alt="setstats" border="0" width="1" height="1"></noscript><script type="text/javascript">(function (d, w) {var x = d.getElementsByTagName('SCRIPT')[0];var f = function () {var s = d.createElement('SCRIPT');s.type = 'text/javascript';s.async = true;s.src = "//np.lexity.com/embed/YW/b1fe8415ea3afdda4a8ad34ee7cf1614?id=41958ae7bc0f";x.parentNode.insertBefore(s, x);};w.attachEvent ? w.attachEvent('onload',f) :w.addEventListener('load',f,false);}(document, window));</script>